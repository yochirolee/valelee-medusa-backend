import{P as g,a as _}from"./chunk-IQBAUTU5-BmuhFaNX.js";import{S as N}from"./chunk-ADOCJB6L-D8JK3W3x.js";import{P as f}from"./chunk-P3UUX2T6-71skfw9G.js";import{r as w,j as t,b as a,V as S}from"./index-Cny3qPON.js";import{c as P}from"./index-Cbgeu8uy.js";import{u as C}from"./chunk-C76H5USB-BXLF_MIf.js";var b=({collection:e})=>e?t.jsx("div",{className:"flex h-full w-full items-center overflow-hidden",children:t.jsx("span",{className:"truncate",children:e.title})}):t.jsx(f,{}),y=()=>{const{t:e}=a();return t.jsx("div",{className:"flex h-full w-full items-center",children:t.jsx("span",{children:e("fields.collection")})})},H=({status:e})=>{const{t:r}=a(),[l,s]={draft:["grey",r("products.productStatus.draft")],proposed:["orange",r("products.productStatus.proposed")],published:["green",r("products.productStatus.published")],rejected:["red",r("products.productStatus.rejected")]}[e];return t.jsx(N,{color:l,children:s})},T=()=>{const{t:e}=a();return t.jsx("div",{className:"flex h-full w-full items-center",children:t.jsx("span",{children:e("fields.status")})})},E=({salesChannels:e})=>{const{t:r}=a();if(!e||!e.length)return t.jsx(f,{});if(e.length>2)return t.jsxs("div",{className:"flex h-full w-full items-center gap-x-1 overflow-hidden",children:[t.jsx("span",{className:"truncate",children:e.slice(0,2).map(s=>s.name).join(", ")}),t.jsx(S,{content:t.jsx("ul",{children:e.slice(2).map(s=>t.jsx("li",{children:s.name},s.id))}),children:t.jsx("span",{className:"text-xs",children:r("general.plusCountMore",{count:e.length-2})})})]});const l=e.map(s=>s.name).join(", ");return t.jsx("div",{className:"flex h-full w-full items-center overflow-hidden max-w-[250px]",children:t.jsx("span",{title:l,className:"truncate",children:l})})},q=()=>{const{t:e}=a();return t.jsx("div",{className:"flex h-full w-full items-center",children:t.jsx("span",{children:e("fields.salesChannels")})})},O=({variants:e})=>{const{t:r}=a();return!e||!e.length?t.jsx(f,{}):t.jsx("div",{className:"flex h-full w-full items-center overflow-hidden",children:t.jsx("span",{className:"truncate",children:r("products.variantCount",{count:e.length})})})},V=()=>{const{t:e}=a();return t.jsx("div",{className:"flex h-full w-full items-center",children:t.jsx("span",{children:e("fields.variants")})})},n=P(),R=()=>w.useMemo(()=>[n.display({id:"product",header:()=>t.jsx(g,{}),cell:({row:e})=>t.jsx(_,{product:e.original})}),n.accessor("collection",{header:()=>t.jsx(y,{}),cell:({row:e})=>t.jsx(b,{collection:e.original.collection})}),n.accessor("sales_channels",{header:()=>t.jsx(q,{}),cell:({row:e})=>t.jsx(E,{salesChannels:e.original.sales_channels})}),n.accessor("variants",{header:()=>t.jsx(V,{}),cell:({row:e})=>t.jsx(O,{variants:e.original.variants})}),n.accessor("status",{header:()=>t.jsx(T,{}),cell:({row:e})=>t.jsx(H,{status:e.original.status})})],[]),D="id,title,handle,status,*collection,*sales_channels,variants.id,thumbnail",U=({prefix:e,pageSize:r=20})=>{const l=C(["offset","order","q","created_at","updated_at","sales_channel_id","category_id","collection_id","is_giftcard","tag_id","type_id","status","id"],e),{offset:s,sales_channel_id:c,created_at:p,updated_at:h,category_id:i,collection_id:d,tag_id:x,type_id:o,is_giftcard:m,status:u,order:j,q:v}=l;return{searchParams:{limit:r,offset:s?Number(s):0,sales_channel_id:c==null?void 0:c.split(","),created_at:p?JSON.parse(p):void 0,updated_at:h?JSON.parse(h):void 0,category_id:i==null?void 0:i.split(","),collection_id:d==null?void 0:d.split(","),is_giftcard:m?m==="true":void 0,order:j,tag_id:x?x.split(","):void 0,type_id:o==null?void 0:o.split(","),status:u==null?void 0:u.split(","),q:v,fields:D},raw:l}};export{R as a,U as u};
