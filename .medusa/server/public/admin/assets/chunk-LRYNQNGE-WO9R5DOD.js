import{T as F}from"./chunk-V3MOBCDF-Fr8ItIPO.js";import{u as N}from"./chunk-KKFEMHQJ-PqzHWEAH.js";import{u as Q,a as Y,b as Z}from"./chunk-ITD4DT6X-BdDltjLu.js";import{u as J,a as K,b as V}from"./chunk-ZJRFL6ZN-C6h05HtM.js";import{u as W,a as $,b as ee}from"./chunk-DFA6WGYO-e4Orxf9o.js";import{u as te,a as ae}from"./chunk-PCFUZKDS-BMAFuwOa.js";import{u as _,_ as A}from"./chunk-B2JT2FOA-BjkPvPv7.js";import{u as se,a as re}from"./chunk-GW6TVOAA-BntYsomU.js";import{u as oe}from"./chunk-RRZ6HVRV-Cxfyf0ub.js";import{S as le,c as ne}from"./chunk-4TC5YS65-WmRz150Y.js";import{a2 as q,a4 as X,dz as ce,ad as ie,b as O,r as S,j as r,B as H,dv as de,k as z,e as ue,dj as pe,bf as me,bg as fe,a0 as ge,T as be,I as Se}from"./index-B1ljKk9e.js";import{X as ye}from"./x-mark-mini-EeQGs_oW.js";import{C as h}from"./checkbox-CWBVLxcO.js";import{c as E}from"./index-DPedVans.js";function he(s){return s.reduce((e,a)=>(e[a.value]=!0,e),{})}var Ve=({referenceType:s,type:e,setState:a,state:n})=>{const{t:c}=O(),g=e==="focus"?le:ne,[b,y]=S.useState(n),l=()=>{a(b)};return r.jsxs("div",{className:"flex size-full flex-col overflow-hidden",children:[r.jsx(g.Body,{className:"min-h-0 p-0",children:r.jsx(Ce,{referenceType:s,initialRowState:he(n),intermediate:b,setIntermediate:y})}),r.jsxs(g.Footer,{children:[r.jsx(g.Close,{asChild:!0,children:r.jsx(H,{variant:"secondary",size:"small",type:"button",children:c("actions.cancel")})}),r.jsx(H,{type:"button",size:"small",onClick:l,children:c("actions.save")})]})]})},Ce=({referenceType:s,...e})=>{switch(s){case F.CUSTOMER_GROUP:return r.jsx(Pe,{...e});case"product":return r.jsx(xe,{...e});case F.PRODUCT_COLLECTION:return r.jsx(Ie,{...e});case"product_type":return r.jsx(Oe,{...e});case F.PRODUCT_TAG:return r.jsx(ze,{...e});default:return null}},i=50,G="cg",Pe=({initialRowState:s,intermediate:e,setIntermediate:a})=>{const{t:n}=O(),[c,g]=S.useState(s);D();const{searchParams:b,raw:y}=J({pageSize:i,prefix:G}),{customer_groups:l,count:d,isLoading:C,isError:P,error:T}=de(b,{placeholderData:z}),w=o=>{const p=typeof o=="function"?o(c):o,m=Object.keys(c),f=Object.keys(p),R=f.filter(t=>!m.includes(t)),I=m.filter(t=>!f.includes(t)),j=(l==null?void 0:l.filter(t=>R.includes(t.id)).map(t=>({value:t.id,label:t.name})))||[],v=e.filter(t=>!I.includes(t.value));a([...v,...j]),g(p)},x=K(),u=we(),{table:k}=_({data:l||[],columns:u,count:d,enablePagination:!0,enableRowSelection:!0,getRowId:o=>o.id,rowSelection:{state:c,updater:w},pageSize:i,prefix:G});if(P)throw T;return r.jsx(A,{table:k,columns:u,pageSize:i,count:d,isLoading:C,filters:x,orderBy:[{key:"name",label:n("fields.name")},{key:"created_at",label:n("fields.createdAt")},{key:"updated_at",label:n("fields.updatedAt")}],layout:"fill",pagination:!0,search:!0,prefix:G,queryObject:y})},Te=E(),we=()=>{const s=V();return S.useMemo(()=>[Te.display({id:"select",header:({table:e})=>r.jsx(h,{checked:e.getIsSomePageRowsSelected()?"indeterminate":e.getIsAllPageRowsSelected(),onCheckedChange:a=>e.toggleAllPageRowsSelected(!!a)}),cell:({row:e})=>r.jsx(h,{checked:e.getIsSelected(),onCheckedChange:a=>e.toggleSelected(!!a),onClick:a=>{a.stopPropagation()}})}),...s],[s])},M="p",xe=({initialRowState:s,intermediate:e,setIntermediate:a})=>{const{t:n}=O(),[c,g]=S.useState(s);D();const{searchParams:b,raw:y}=te({pageSize:i,prefix:M}),{products:l,count:d,isLoading:C,isError:P,error:T}=ue(b,{placeholderData:z}),w=o=>{const p=typeof o=="function"?o(c):o,m=Object.keys(c),f=Object.keys(p),R=f.filter(t=>!m.includes(t)),I=m.filter(t=>!f.includes(t)),j=(l==null?void 0:l.filter(t=>R.includes(t.id)).map(t=>({value:t.id,label:t.title})))||[],v=e.filter(t=>!I.includes(t.value));a([...v,...j]),g(p)},x=oe(),u=Re(),{table:k}=_({data:l||[],columns:u,count:d,enablePagination:!0,enableRowSelection:!0,getRowId:o=>o.id,rowSelection:{state:c,updater:w},pageSize:i,prefix:M});if(P)throw T;return r.jsx(A,{table:k,columns:u,pageSize:i,count:d,isLoading:C,filters:x,orderBy:[{key:"title",label:n("fields.title")},{key:"created_at",label:n("fields.createdAt")},{key:"updated_at",label:n("fields.updatedAt")}],layout:"fill",pagination:!0,search:!0,prefix:M,queryObject:y})},ke=E(),Re=()=>{const s=ae();return S.useMemo(()=>[ke.display({id:"select",header:({table:e})=>r.jsx(h,{checked:e.getIsSomePageRowsSelected()?"indeterminate":e.getIsAllPageRowsSelected(),onCheckedChange:a=>e.toggleAllPageRowsSelected(!!a)}),cell:({row:e})=>r.jsx(h,{checked:e.getIsSelected(),onCheckedChange:a=>e.toggleSelected(!!a),onClick:a=>{a.stopPropagation()}})}),...s],[s])},U="pc",Ie=({initialRowState:s,intermediate:e,setIntermediate:a})=>{const{t:n}=O(),[c,g]=S.useState(s);D();const{searchParams:b,raw:y}=W({pageSize:i,prefix:U}),{collections:l,count:d,isLoading:C,isError:P,error:T}=pe(b,{placeholderData:z}),w=o=>{const p=typeof o=="function"?o(c):o,m=Object.keys(c),f=Object.keys(p),R=f.filter(t=>!m.includes(t)),I=m.filter(t=>!f.includes(t)),j=(l==null?void 0:l.filter(t=>R.includes(t.id)).map(t=>({value:t.id,label:t.title})))||[],v=e.filter(t=>!I.includes(t.value));a([...v,...j]),g(p)},x=se(),u=ve(),{table:k}=_({data:l||[],columns:u,count:d,enablePagination:!0,enableRowSelection:!0,getRowId:o=>o.id,rowSelection:{state:c,updater:w},pageSize:i,prefix:U});if(P)throw T;return r.jsx(A,{table:k,columns:u,pageSize:i,count:d,isLoading:C,filters:x,orderBy:[{key:"title",label:n("fields.title")},{key:"created_at",label:n("fields.createdAt")},{key:"updated_at",label:n("fields.updatedAt")}],layout:"fill",pagination:!0,search:!0,prefix:U,queryObject:y})},je=E(),ve=()=>{const s=$();return S.useMemo(()=>[je.display({id:"select",header:({table:e})=>r.jsx(h,{checked:e.getIsSomePageRowsSelected()?"indeterminate":e.getIsAllPageRowsSelected(),onCheckedChange:a=>e.toggleAllPageRowsSelected(!!a)}),cell:({row:e})=>r.jsx(h,{checked:e.getIsSelected(),onCheckedChange:a=>e.toggleSelected(!!a),onClick:a=>{a.stopPropagation()}})}),...s],[s])},B="pt",Oe=({initialRowState:s,intermediate:e,setIntermediate:a})=>{const{t:n}=O(),[c,g]=S.useState(s);D();const{searchParams:b,raw:y}=Q({pageSize:i,prefix:B}),{product_types:l,count:d,isLoading:C,isError:P,error:T}=me(b,{placeholderData:z}),w=o=>{const p=typeof o=="function"?o(c):o,m=Object.keys(c),f=Object.keys(p),R=f.filter(t=>!m.includes(t)),I=m.filter(t=>!f.includes(t)),j=(l==null?void 0:l.filter(t=>R.includes(t.id)).map(t=>({value:t.id,label:t.value})))||[],v=e.filter(t=>!I.includes(t.value));a([...v,...j]),g(p)},x=Y(),u=Ae(),{table:k}=_({data:l||[],columns:u,count:d,enablePagination:!0,enableRowSelection:!0,getRowId:o=>o.id,rowSelection:{state:c,updater:w},pageSize:i,prefix:B});if(P)throw T;return r.jsx(A,{table:k,columns:u,pageSize:i,count:d,isLoading:C,filters:x,orderBy:[{key:"value",label:n("fields.value")},{key:"created_at",label:n("fields.createdAt")},{key:"updated_at",label:n("fields.updatedAt")}],layout:"fill",pagination:!0,search:!0,prefix:B,queryObject:y})},_e=E(),Ae=()=>{const s=Z();return S.useMemo(()=>[_e.display({id:"select",header:({table:e})=>r.jsx(h,{checked:e.getIsSomePageRowsSelected()?"indeterminate":e.getIsAllPageRowsSelected(),onCheckedChange:a=>e.toggleAllPageRowsSelected(!!a)}),cell:({row:e})=>r.jsx(h,{checked:e.getIsSelected(),onCheckedChange:a=>e.toggleSelected(!!a),onClick:a=>{a.stopPropagation()}})}),...s],[s])},L="ptag",ze=({initialRowState:s,intermediate:e,setIntermediate:a})=>{const{t:n}=O(),[c,g]=S.useState(s);D();const{searchParams:b,raw:y}=ee({pageSize:i,prefix:L}),{product_tags:l,count:d,isLoading:C,isError:P,error:T}=fe(b,{placeholderData:z}),w=o=>{const p=typeof o=="function"?o(c):o,m=Object.keys(c),f=Object.keys(p),R=f.filter(t=>!m.includes(t)),I=m.filter(t=>!f.includes(t)),j=(l==null?void 0:l.filter(t=>R.includes(t.id)).map(t=>({value:t.id,label:t.value})))||[],v=e.filter(t=>!I.includes(t.value));a([...v,...j]),g(p)},x=re(),u=De(),{table:k}=_({data:l||[],columns:u,count:d,enablePagination:!0,enableRowSelection:!0,getRowId:o=>o.id,rowSelection:{state:c,updater:w},pageSize:i,prefix:L});if(P)throw T;return r.jsx(A,{table:k,columns:u,pageSize:i,count:d,isLoading:C,filters:x,orderBy:[{key:"value",label:n("fields.value")},{key:"created_at",label:n("fields.createdAt")},{key:"updated_at",label:n("fields.updatedAt")}],layout:"fill",pagination:!0,search:!0,prefix:L,queryObject:y})},Ee=E(),De=()=>{const s=N();return S.useMemo(()=>[Ee.display({id:"select",header:({table:e})=>r.jsx(h,{checked:e.getIsSomePageRowsSelected()?"indeterminate":e.getIsAllPageRowsSelected(),onCheckedChange:a=>e.toggleAllPageRowsSelected(!!a)}),cell:({row:e})=>r.jsx(h,{checked:e.getIsSelected(),onCheckedChange:a=>e.toggleSelected(!!a),onClick:a=>{a.stopPropagation()}})}),...s],[s])},D=()=>{const[s,e]=ge();S.useEffect(()=>()=>{e({})},[])},We=({index:s,label:e,onRemove:a})=>r.jsxs("div",{className:"bg-ui-bg-field-component shadow-borders-base flex items-center justify-between gap-2 rounded-md px-2 py-0.5",children:[r.jsx(be,{size:"small",leading:"compact",children:e}),r.jsx(Se,{size:"small",variant:"transparent",type:"button",onClick:()=>a(s),children:r.jsx(ye,{})})]}),Fe=q({value:X(),label:X()});q({reference_type:ce(F),references:ie(Fe)});var $e=s=>s.references.map(e=>({reference:s.reference_type,reference_id:e.value}));export{Fe as T,Ve as a,We as b,$e as c};
